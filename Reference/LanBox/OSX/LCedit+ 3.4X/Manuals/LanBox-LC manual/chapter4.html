<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN"><html>	<head>		<meta http-equiv="content-type" content="text/html;charset=iso-8859-1">		<meta name="generator" content="Adobe GoLive 4">		<title>LanBox-LC MIDI or Serial port usage</title>	</head>	<body bgcolor="white" background="Images/backgroundgrey.gif">		<table border="0" cellspacing="0" cellpadding="0" width="600">			<tr>				<td valign="top" width="135"><a href="http://www.cds.nl/"><img src="Images/cdslogowit.gif" width="125" height="75" border="0" align="left"></a>&nbsp;</td>				<td valign="top" align="left" width="465">					<div align="right">						<b><br>						&nbsp;LanBox-LC manual v2.0b1</b></div>					<div align="left">						<p><font size="5"><b>Using MIDI or Serial communications</b><br>						</font>&nbsp;</div>				</td>			</tr>		</table>		<table border="0" cellspacing="0" cellpadding="0" width="600">			<tr>				<td valign="top" width="135">					<hr noshade size="1">					&nbsp;</td>			</tr>		</table>		<table border="0" cellspacing="0" cellpadding="0" width="600">			<tr>				<td valign="top" width="135"><b>Index</b>					<p><a href="chapter1.html"><font size="2"><b>Introduction</b></font></a><font size="2"><b><br>					&nbsp;</b></font><a href="chapter1.html#1"><font size="2">What's in the box</font></a><font size="2"><br>					&nbsp;<a href="chapter1.html#2">What's not in the box</a><br>					&nbsp;<a href="chapter1.html#3">New versions &amp; support</a> </font></p>					<p><a href="chapter2.html"><font size="2"><b>Getting started</b></font></a><font size="2"><b><br>					&nbsp;</b></font><a href="chapter2.html#1"><font size="2">Macintosh network setup</font></a><font size="2"><br>					&nbsp;<a href="chapter2.html#2">PC/Mac Serial setup</a><br>					&nbsp;<a href="chapter2.html#3">MIDI setup<br>					</a>&nbsp;<a href="chapter2.html#4">The LanBox</a><br>					&nbsp;<a href="chapter2.html#5">Software to use<br>					</a>&nbsp;<a href="chapter2.html#6">About fixtures &amp; DMX</a> </font></p>					<p><a href="chapter3.html"><font size="2"><b>What's under the hood<br>					</b></font></a><font size="2"><b>&nbsp;</b><a href="chapter3.html#1">LCII firmware operation</a><br>					&nbsp;<a href="chapter3.html#2">LC+ firmware operation</a> </font></p>					<p><a href="chapter4.html"><font size="2"><b>Using MIDI or Serial</b></font></a><font size="2"><b><br>					&nbsp;</b></font><a href="#1"><font size="2">MIDI communications</font></a><font size="2"><br>					&nbsp;<a href="#2">Serial communications</a><br>					</font><font size="2">&nbsp;<a href="#5">Contact/button trggers</a></font></p>					<p><a href="chapter5.html"><font size="2"><b>FAQ and Specs</b></font></a><b><font size="2"><br>					&nbsp;</font></b><font size="2"><a href="chapter5.html#1">LanBox FAQ</a><br>					&nbsp;<a href="chapter5.html#2">DMX FAQ</a><br>					&nbsp;<a href="chapter5.html#3">CE &amp; FCC specs</a> </font></td>				<td valign="top" width="465" align="left"><b>Introduction to MIDI or Serial communications with the LanBox-LC</b>					<p>MIDI is a very often used protocol in the music world, so there are lots of controllers that can be used together with the LanBox-LC . We'll give you some examples.</p>					<p>The most simple way is to connect a MIDI keyboard directly to the LanBox-LC (through the MIDI interface of course). You can play notes on the keyboard and the lights on the corresponding DMX channels will follow what you play. If you select an instrument on the keyboard (which is a program change) you select a scene in the LanBox-LC. (Make sure the MIDI send channel on the keyboard corresponds with the MIDI receive channel on the LanBox-LC.</p>					<p>Another powerfull way to control lights is using a programmable MIDI command station with sliders and/or buttons, like the Peavey PC1600 X.</p>					<p>The more expensive MIDI keyboards have built-in sequencers. You can use these sequencers to make the light show run in sync with the (MIDI) song. Reserve one MIDI track for the LanBox-LC. You still have the option of using select scenes (program changes) or individual DMX control (note-on) or both.</p>					<p>The only problem with using a sequencer for individual DMX control is that a sequencer will send note-on and note-offs in pairs. On a note-off the LanBox-LC will set the corresponding DMX channel to zero. However you can use the Sustain (Collect note-offs) or the Portamento (Ignore note-offs) Controllers to prevent this.</p>					<p>Of course you can use more advanced computer based sequencers (like EMagics Logic, MOTUs Performer or Cubase), for the same purpose. These sequencers normally give you a lot more control, but you'll need a (portable) computer in your setup.</p>					<p>On the Macintosh you can use the MAX MIDI programming environment to let you imagination really run wild. With MAX you can do very complicated MIDI tricks in a very simple way. In the LanBox-LC bundled software you can find examples of how to use the LanBox-LC with MAX.</p>					<p>&nbsp;<br>					&nbsp;</p>					<p>The LanBox-LC primary communications channel is the AppleTalk network protocol. However it is also possible to communicate with the LanBox-LC through the serial port. Through this port scenes (CueLists) can be selected and specific light channels can be controlled directly.</p>					<p>Connection<br>					The LanBox-LC has a Mini DIN connector at the front labeled 'Serial'. A standard Macintosh serial cable (Mac to Mac) will make the serial connection to the modem or printer port of any Macintosh. Wintel PCs usually have a 9 pole D connector for their serial port. We optionally sell a special PC - LanBox cable, which has on on side a 9 pole female D connector and on the other side the 8 pole mini DIN connector.</p>					<p>Baudrate<br>					The serial communication works with Baudrates of 38400/19200/9600, no parity, 8 bit, one stop bit and no handshake. The LanBox-LC is shipped with 38400 baud setting, but this can be changed using LCtools or for the &quot;plus&quot; fimware with LCedit+.</p>					<p>Protocol<br>					The protocol used for the serial connection is ASCII (hex) based. A typical command should be like this: *00010005# (select scene 5 for the LCII).</p>					<p>&nbsp;<br>					&nbsp;</p>					<p><a name="1"></a><b>Using MIDI communications with the LanBox-LC</b></p>					<p>In order to use the LanBox-LC with MIDI, you need to connect the optional MIDI adapter to the serial port of the box before power up (the LanBox-LC will automaticly detect the MIDI adapter at power up), using the following startup procedure:</p>					<p>* Turn on the box, with MIDI adapter connected<br>					* Wait until the yellow led is blinking.</p>					<p>If the LCII firmware is installed, initialize in this way , using MIDI channel 15:<br>					* Send 127 with controller 112 (stop sequencer)<br>					* Send MIDI controller 123 (panic) or send for all channels NoteOns with velocity 0<br>					* Send 20 with controller 111 (set output to edit buffer)<br>					* Optionally sent 127 with controller 65 in order to ignore all NoteOffs<br>					</p>					<p>If the LC+ firmware is installed, initialize in this way , using MIDI channel 1:<br>					* Send 0 with controller 73 (stop sequencer)<br>					* Send 127 with controller 87 (clear engine)<br>					* Optionally sent 127 with controller 65 in order to ignore all NoteOffs<br>					</p>					<p>From now on any NoteOn will map to the same light channel + 1, so NoteOn, pitch=64, vel= 100 results in light channel 65 goes to 200 (2*100). If the default 1 to 1 mapping of the DMX patcher is not changed, the light channels are fed to the corresponding DMX output channels.</p>					<p><b>Note: </b>Besides the above commands there are (especialy in the LC+) many more MIDI commands which can be used. The LCII MIDI command set can be found in the LCII user manual, while the very extensive MIDI command set for the LC+ firmware can be found in the &quot;LC+ Reference&quot; manual and the &quot;LC+ Cmd Chart&quot;.</p>					<p><b>Note: </b>The LC+ can also be controlled by SysEx and MSC (MIDI Show Control) commands.</p>					<p>&nbsp;<br>					&nbsp;</td>			</tr>		</table>		<table border="0" cellspacing="0" cellpadding="0" width="600">			<tr>				<td valign="top" width="135"><b>&nbsp;</b></td>				<td valign="top" width="465" align="left"><a name="2"></a><b>Using Serial ASCII communications with the LanBox-LC</b>					<p>In order to use the LanBox-LC with ASCII, you need to make a serial connection to the serial port of the box before power up and using the following startup procedure:</p>					<p>* Turn on the box, with a serial cable connected<br>					* Wait until the yellow led is blinking.</p>					<p>If the LCII firmware is installed, initialize in this way , using 38.4 kb, 8 data bits, 1 stop bit, no handshake:<br>					* Send *00080000# (stop sequencer)<br>					* Send *01000000# (clear all channels)<br>					* Send *02000006# (set all outputs to edit buffer)</p>					<p>From now the command *01xx00vv# will set light channel xx (hex), to DMX value vv (hex). If the default 1 to 1 mapping of the DMX patcher is not changed, the light channels are fed to the corresponding DMX output channels.</p>					<p>If the LC+ firmware is installed, initialize in this way , using 38.4 kb, 8 data bits, 1 stop bit, no handshake:<br>					* Send *490100# (stop sequencer of Engine A)<br>					* Send *5701# (clear Engine A)</p>					<p>From now the command *c901xxvv# will set light channel xx (hex), to DMX value vv (hex). If the default 1 to 1 mapping of the DMX patcher is not changed, the light channels are fed to the corresponding DMX output channels.</p>					<p><b>Note: </b>Besides the above commands there are (especialy in the LC+) many more ASCII commands which can be used. The LCII ASCII command set can be found in the LCII user manual, while the very extensive ASCII command set for the LC+ firmware can be found in the &quot;LC+ Reference&quot; manual and the &quot;LC+ Cmd Chart&quot;.</p>					<p>&nbsp;<br>					&nbsp;</td>			</tr>		</table>		<table width="600" border="0" cellspacing="0" cellpadding="0">			<tr>				<td valign="top" width="135"><b>&nbsp;</b></td>				<td valign="top" width="465"><b><a name="5"></a>Using a contact switch as trigger</b>					<p>The LanBox-LC can be used stand alone (without a computer attached to it). Users have expressed the need for attaching some sort of switch device to restart the LanBox-LC light program. Besides the serial commands, that can easily be built into some hand held remote control, we've also build in support for a contact switch.</p>					<p>Connection<img src="Images/Serial.gif" width="64" height="64" align="right"><br>					The LanBox-LC has a Mini DIN connector at the front labeled 'Serial'. The LanBox-LC supports an NC (normally closed) contact between pin 2 and 3 of the serial port. When using the LCII firmware the pins 2 and 3 should be shorted at startup, so the LanBox-LCII can detect the switch and initialize the switch handler.</p>					<p>Protocol with the LCII firmware:<br>					As long as pins 2 and 3 are shorted the sequencer will run. As soon as the contact between pin 2 and 3 is broken the sequencer will stop running and hold the last scene. When pins 2 and 3 are shorted again, the sequencer will start running at scene 1.</p>					<p>Protocol with the LC+ firmware:<br>					With the step action &quot;hold until switch&quot; it's possible to wait for a closed as well as an open contact.</p>					<p><b>Note</b><br>					We will not supply an actual switch, just supporting the possibility in software.</p>					<p>&nbsp;<br>					&nbsp;</td>			</tr>			<tr>				<td valign="top" width="135">&nbsp;</td>				<td valign="top" width="465">					<center>						<a href="chapter3.html">To previous section</a>, <a href="chapter5.html">To next section</a>&nbsp;						<p><a href="chapter1.html">Introduction</a> <b>|</b> <a href="chapter2.html">Getting started</a> <b>|</b> <a href="chapter3.html">Under the hood</a> <b>|</b> <a href="chapter4.html">MIDI&amp;Serial</a> <b>|</b> <a href="chapter5.html">FAQ&amp;Specs</a></p>						<p>&nbsp;&nbsp;</center>				</td>			</tr>		</table>		<table width="600" border="0" cellspacing="0" cellpadding="0">			<tr>				<td colspan="2" valign="top">					<hr noshade size="1">				</td>			</tr>			<tr>				<td width="135" valign="top"><font size="1">Last updated: 31-07-2000<br>					by:&nbsp;Fokko</font></td>				<td valign="top" width="465"><font size="1">Copyright 1997..2000 CDS advanced technology bv. LanBox is a registered trademark of CDS advanced technology bv. All other names referenced are the service marks, trademarks or registered trademarks of their respective companies.<br>					Comments or suggestions: <a href="mailto:webmaster@cds.nl">webmaster@cds.nl</a> , Questions and info: <a href="mailto:info@cds.nl">info@cds.nl</a><a href="mailto:anyuser@cds.nl">.</a>&nbsp;</font></td>			</tr>			<tr>				<td colspan="2">					<hr noshade size="1">				</td>			</tr>		</table>		<br>		&nbsp;&nbsp;&nbsp;	</body></html>